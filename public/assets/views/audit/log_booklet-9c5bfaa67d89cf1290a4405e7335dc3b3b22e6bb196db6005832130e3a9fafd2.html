<div class="container" ng-controller="AuditsController">
<!-- <form> -->
<form name="LogBookletForm" method="post" accept-charset="UTF-8" ng-controller="AuditsController" >
  

  <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-6">
      <div class="card">
        <div class="card-header card-success">
          <h2>Log New Receipt Booklet</h2>
        </div>
        <div class="card-body">

    <label>Waec Office: <span>*</span></label>
      <div  ng-controller="OfficesController">
        <div class="form-group" >
          <select ng-model="WaecOfficeId" ng-options="y.id as y.office_name for y in offices" ng-change="GetValue(y)" class="form-control" ng-required="true" ng-disabled = "true">
            <option value="">Select Office</option>
          </select>
        </div>
       <!--  Selected: <p ng-bind="WaecOfficeId"></p> -->
      </div>

<!--       <div class="form-group">
        <label>Booklet From: </label>
        <input type="text" name="" ng-model="bookletRange.rangeFrom" class="form-control" required>
        <span>
          <label>Booklet To: </label>
        <input type="text" name="" ng-model="bookletRange.rangeTo" class="form-control" required>
        </span>
      </div> -->

  <div class="form-group" ng-class="{ 'has-success':(LogBookletForm.rangeFrom.$valid && !LogBookletForm.rangeFrom.$pristine), 'has-error':(!LogBookletForm.rangeFrom.$valid && !LogBookletForm.rangeFrom.$pristine) || (!LogBookletForm.rangeFrom.$valid && LogBookletForm.$submitted) }" >
  <label for="rangeFrom">Booklet Fro:</label>
  <input type="text"
           name="rangeFrom"
           id="rangeFrom"
           ng-model="bookletRange.rangeFrom"
            ng-required="true"
            ng-pattern="/^[0-9]+$/" ng-minlength="5" ng-maxlength="7"
           class="form-control">
           <p ng-show="(!LogBookletForm.rangeFrom.$pristine && LogBookletForm.rangeFrom.$error.required) || (LogBookletForm.$submitted && LogBookletForm.rangeFrom.$error.required)" class="help-block">This fieild is required.</p>
           <ul ng-show="(!LogBookletForm.rangeFrom.$pristine && LogBookletForm.rangeFrom.$error.pattern) || (!LogBookletForm.rangeFrom.$pristine && LogBookletForm.rangeFrom.$error.minlength) || (!LogBookletForm.rangeFrom.$pristine && LogBookletForm.rangeFrom.$error.maxlength)" class="help-block">
                          <li style="color:Red">Can only be numbers</li>
                          <li style="color:Red">Must not contain any special characters</li>
                          <li style="color:Red">Must Be 7 Integer characters</li>
                        </ul>
  </div>


  <div class="form-group" ng-class="{ 'has-success':(LogBookletForm.rangeTo.$valid && !LogBookletForm.rangeTo.$pristine), 'has-error':(!LogBookletForm.rangeTo.$valid && !LogBookletForm.rangeTo.$pristine) || (!LogBookletForm.rangeTo.$valid && LogBookletForm.$submitted) }" >
  <label for="rangeTo">Booklet To:</label>
    <input type="text"
           name="rangeTo"
           id="rangeTo"
           ng-model="bookletRange.rangeTo"
            ng-required="true"
            ng-pattern="/^[0-9]+$/" ng-minlength="5" ng-maxlength="7"
           class="form-control">
           <p ng-show="(!LogBookletForm.rangeTo.$pristine && LogBookletForm.rangeTo.$error.required) || (LogBookletForm.$submitted && LogBookletForm.rangeTo.$error.required)" class="help-block">This fieild is required.</p>
           <ul ng-show="(!LogBookletForm.rangeTo.$pristine && LogBookletForm.rangeTo.$error.pattern) || (!LogBookletForm.rangeTo.$pristine && LogBookletForm.rangeTo.$error.minlength) || (!LogBookletForm.rangeTo.$pristine && LogBookletForm.rangeTo.$error.maxlength)" class="help-block">
                          <li style="color:Red">Can only be numbers</li>
                          <li style="color:Red">Must not contain any special characters</li>
                          <li style="color:Red">Must Be 7 Integer characters</li>
                        </ul>
  </div>

      <div>
        <button ng-click="LogReceiptBooklet(bookletRange)" ng-disabled="LogBookletForm.$invalid">Submit</button><br><br>
      </div>
    </div>



        <table class="table table-striped table-bordered" ng-init="getAllNewReceipts()">
                <tbody>     
                    <tr>
                      <th>Index</th>
                      <th>Booklet From</th>
                      <th>Booklet To</th>
                      <th>Office</th>               
                      <th>Status</th>
                    </tr>

                    <tr ng-repeat="receiptList in receiptLists"> 
                      <td>{{$index+1}}</td>
                      <td>{{receiptList.rangeFrom}}</td> 
                       <td>{{receiptList.rangeTo}}</td>
                       <td>{{receiptList.office_name}}</td>
                       <td><b>{{receiptList.status}}</b></td>
                    
                    </tr>
                              
                  </tbody>
              </table>


<div class="loading loading--full-height" ng-show="loading"><strong>Loading....Please Wait!</strong></div>
</div>
</div>
 <div class="col-sm-2"></div>  
</div>
  <br>
  <br>
  </form>
</div>










