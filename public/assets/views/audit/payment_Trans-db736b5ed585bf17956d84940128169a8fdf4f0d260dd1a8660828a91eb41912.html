<div class="container">
  <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-7">
      <div class="card card-primary">
        <div class="card-header">
         <h2>Log Confirmation Payment</h2>
        </div>
        <div class="card-body">
          <form name="makePaymentForm" ng-submit="makePayment(result);" method="post" accept-charset="UTF-8" ng-controller="AuditsController" ng-init="{}">
            <div ng-controller="AuditsController" ng-init="receiptLeafletCount()">
              <p><h4>Available Receipt Leaflets Count: <span><strong> {{receiptCount}}</span>.</strong></h4></p>
            </div>
            <div class="loading loading--full-height" ng-show="loading"><strong>Loading....Please Wait!</strong></div> 

            <div class="form-group">
                   <label ><strong>Payment Receipt No:</strong></label>&nbsp;</td>
                     <input  size="30" type="text" ng-model="result.receipt_no" placeholder="Receipt No"  ng-blur="confirmReceipt(result.receipt_no)" required class="form-control" />
                        <span style="color:Blue">
                           <div ng-if="receiptConfirm === true">
                                <input type="checkbox" ng-model="receiptConfirm" disabled="true">
                              <label style="color:Blue"> Receipt is valid</label><br>
                              </div>

                              <div ng-if="receiptConfirm === false">
                                <input type="checkbox" ng-model="receiptConfirm" disabled="true">
                              <label style="color:Red"> Receipt is invalid</label><br>
                            </div>

                        </span>           
            </div>

            <div class="form-group">
                <label ><strong>Transaction Type<span>:</span></strong></label></td> <br>   
                 <div  ng-controller="TransactionCtrl as trans">
                  <div class="form-group">
                    <select ng-model="result.TransId" ng-options="d.id as d.transName for d in trans.TransTypes" class="form-control" ng-required="true" ng-disabled="!receiptConfirm" >
                      <option value="">Select Transaction</option>
                    </select>
                  </div>

                    <div ng-switch="result.TransId">
                        <div ng-switch-when="1">
                          
                    <hr> 
                     <div><strong>Fill Details</strong></div>
                    <hr>

                      <div class="form-group">
                        <label ><strong>Candidate's Full Name:</strong></label>&nbsp;
                        <input  size="30" type="text" ng-model="result.CandName" placeholder="Candidate Full Name" required  ng-disabled="!receiptConfirm" class="form-control" />                      
                      </div>

                      <div class="form-group">
                         <label ><strong>Confirmation Type:</strong></label>&nbsp;&nbsp;
                         <select data-ng-model="result.confirm_type_id" data-ng-options="c.id as c.typeName for c in confirmType"  data-ng-change="GetAmount()" ng-init="getConfirmType()"  ng-disabled="!receiptConfirm" class="form-control">
                          <option value="" >-- Select Confirmation Type --</option>
                        </select>
                      </div>

                      <div class="form-group">
                          <label ><strong>Confirmation Fee:</strong></label>&nbsp;&nbsp;
                         <input size="30" type="text" ng-model="result.amount" placeholder="0.00"  required disabled="true" class="form-control" />                      
                      </div>

                      <div class="form-group">
                            <label ><strong>Candidate's Email:</strong></label>&nbsp;&nbsp;
                            <input  size="30" type="text" value="NULL" ng-model="result.cand_email" placeholder="Candidate Email Address" ng-disabled="!receiptConfirm" class="form-control"  >(Optional)
                           
                      </div>

                      <div class="form-group">
                       <label ><strong>Candidate's Phone Number:</strong></label>&nbsp;&nbsp;
                       <input  size="30" type="text" value="NULL" ng-model="result.PhoneNo" placeholder="Candidate's Phone Number"  ng-disabled="!receiptConfirm" class="form-control">(Optional)
                 
                      </div>

                   </div>

                <div ng-switch-when="2">
                    <hr> 
                     <div><strong>Fill Details</strong></div>
                    <hr>

                      <div class="form-group">
                        <label ><strong>Candidate's Full Name:</strong></label>&nbsp;
                        <input  size="30" type="text" ng-model="result.CandName" placeholder="Candidate Full Name" required  ng-disabled="!receiptConfirm" class="form-control" />                      
                      </div>

                      <div class="form-group">
                         <label ><strong>School Type:</strong></label>&nbsp;&nbsp;
                         <select data-ng-model="result.confirm_type_id" data-ng-options="c.id as c.typeName for c in confirmType"  data-ng-change="GetAmount()" ng-init="getConfirmType()"  ng-disabled="!receiptConfirm" class="form-control">
                          <option value="" >-- Select School Type --</option>
                        </select>
                      </div>

                      <div class="form-group">
                          <label ><strong>School Fee:</strong></label>&nbsp;&nbsp;
                         <input size="30" type="text" ng-model="result.amount" placeholder="0.00"  required disabled="true" class="form-control" />                      
                      </div>

                      <div class="form-group">
                            <label ><strong>School's Email:</strong></label>&nbsp;&nbsp;
                            <input  size="30" type="text" value="NULL" ng-model="result.cand_email" placeholder="Candidate Email Address" ng-disabled="!receiptConfirm" class="form-control"  >(Optional)
                           
                      </div>

                      <div class="form-group">
                       <label ><strong>School's Phone Number:</strong></label>&nbsp;&nbsp;
                       <input  size="30" type="text" value="NULL" ng-model="result.PhoneNo" placeholder="Candidate's Phone Number"  ng-disabled="!receiptConfirm" class="form-control">(Optional)
                 
                      </div>
                      </div>

                      <div ng-switch-default><h2>Please Select A Transaction Type.</h2></div>
                </div>


                </div>
            </div>



            <div class="footer">
            <br>
                <input name="commit" type="submit" value="Submit Payment" ng-disabled="!receiptConfirm" class="btn btn-primary">
            <br>
           
            
          </div>
                        
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
